{"ast":null,"code":"var _jsxFileName = \"/Users/karthikreddy/Desktop/React/Projects/Little_Lemon_Restaurant/Frontend/src/Utils/UserContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext();\nexport const UserProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null); // stores { _id, fullName }\n  const [isLoading, setIsLoading] = useState(true);\n  const fetchUser = async () => {\n    const userId = localStorage.getItem(\"userId\");\n    if (!userId) {\n      setUser(null);\n      setIsLoading(false);\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:5001/api/users/fullname/${userId}`);\n      if (res.ok) {\n        const data = await res.json();\n        setUser(data); // { _id, fullName }\n      } else {\n        setUser(null);\n      }\n    } catch (err) {\n      console.error(\"Error fetching user:\", err);\n      setUser(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      setUser,\n      isLoading\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_s(UserProvider, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\n_c = UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","UserContext","UserProvider","children","_s","user","setUser","isLoading","setIsLoading","fetchUser","userId","localStorage","getItem","res","fetch","ok","data","json","err","console","error","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/karthikreddy/Desktop/React/Projects/Little_Lemon_Restaurant/Frontend/src/Utils/UserContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nexport const UserContext = createContext();\n\nexport const UserProvider = ({ children }) => {\n    const [user, setUser] = useState(null);   // stores { _id, fullName }\n    const [isLoading, setIsLoading] = useState(true);\n\n    const fetchUser = async () => {\n        const userId = localStorage.getItem(\"userId\");\n        if (!userId) {\n            setUser(null);\n            setIsLoading(false);\n            return;\n        }\n\n        try {\n            const res = await fetch(`http://localhost:5001/api/users/fullname/${userId}`);\n            if (res.ok) {\n                const data = await res.json();\n                setUser(data); // { _id, fullName }\n            } else {\n                setUser(null);\n            }\n        } catch (err) {\n            console.error(\"Error fetching user:\", err);\n            setUser(null);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchUser();\n    }, []);\n\n    return (\n        <UserContext.Provider value={{ user, setUser, isLoading }}>\n            {children}\n        </UserContext.Provider>\n    );\n};"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAMM,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC1C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAG;EAC1C,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAEhD,MAAMY,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC1B,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC7C,IAAI,CAACF,MAAM,EAAE;MACTJ,OAAO,CAAC,IAAI,CAAC;MACbE,YAAY,CAAC,KAAK,CAAC;MACnB;IACJ;IAEA,IAAI;MACA,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,4CAA4CJ,MAAM,EAAE,CAAC;MAC7E,IAAIG,GAAG,CAACE,EAAE,EAAE;QACR,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;QAC7BX,OAAO,CAACU,IAAI,CAAC,CAAC,CAAC;MACnB,CAAC,MAAM;QACHV,OAAO,CAAC,IAAI,CAAC;MACjB;IACJ,CAAC,CAAC,OAAOY,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC1CZ,OAAO,CAAC,IAAI,CAAC;IACjB,CAAC,SAAS;MACNE,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAEDV,SAAS,CAAC,MAAM;IACZW,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIT,OAAA,CAACC,WAAW,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAAEjB,IAAI;MAAEC,OAAO;MAAEC;IAAU,CAAE;IAAAJ,QAAA,EACrDA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAACtB,EAAA,CArCWF,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}